(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"ct+p":function(t,c,o){"use strict";o.r(c);var e=o("hctd"),n=o("fXoL"),a=o("tyNb"),r=o("lJxs"),i=o("sjd8"),s=o("SnT8"),d=o("MSSf"),l=o("eIep"),b=o("ffkf"),m=o("yp1H"),p=o("YIVz"),u=o("Xlwt"),f=o("1OTw"),h=o("TY1r"),y=o("tmTa"),C=o("ofXK");const g=["mat-icon-button","","aria-label","Toggle menu",1,"more-button",3,"matMenuTriggerFor"],w=["xPosition","before"],Z=["menu","matMenu"],D=["mat-menu-item",""],H=[1,"dashboard-card-content"],v=["mat-table","",1,"mat-elevation-z8",3,"dataSource"],G=["matColumnDef","item"],S=["mat-header-cell","",4,"matHeaderCellDef"],I=["mat-cell","",4,"matCellDef"],O=["mat-footer-cell","",4,"matFooterCellDef"],P=["matColumnDef","percent"],J=["matColumnDef","cost"],R=["mat-header-row","",4,"matHeaderRowDef"],U=["mat-row","",4,"matRowDef","matRowDefColumns"],M=["mat-footer-row","",4,"matFooterRowDef"],X=["mat-header-cell",""];function $(t,c){1&t&&(n.bc(0,"th",X),n.Hc(1," Item "),n.Zb())}const j=["mat-cell",""];function V(t,c){if(1&t&&(n.bc(0,"td",j),n.Hc(1),n.Zb()),2&t){const t=c.$implicit;n.yc(1),n.Jc(" ",t.item," ")}}const x=["mat-footer-cell",""];function T(t,c){1&t&&(n.bc(0,"td",x),n.Hc(1," Total "),n.Zb())}function Y(t,c){1&t&&(n.bc(0,"th",X),n.Hc(1," Porcentaje "),n.Zb())}function _(t,c){if(1&t&&(n.bc(0,"td",j),n.Hc(1),n.nc(2,"percent"),n.Zb()),2&t){const t=c.$implicit;n.yc(1),n.Jc(" ",n.oc(2,1,t.percent)," ")}}function k(t,c){if(1&t&&(n.bc(0,"td",x),n.Hc(1),n.nc(2,"percent"),n.Zb()),2&t){const t=n.mc();n.yc(1),n.Jc(" ",n.oc(2,1,t.getTotalPercent())," ")}}function F(t,c){1&t&&(n.bc(0,"th",X),n.Hc(1," Cost "),n.Zb())}function E(t,c){if(1&t&&(n.bc(0,"td",j),n.Hc(1),n.nc(2,"currency"),n.Zb()),2&t){const t=c.$implicit;n.yc(1),n.Jc(" ",n.oc(2,1,t.cost)," ")}}function z(t,c){if(1&t&&(n.bc(0,"td",x),n.Hc(1),n.nc(2,"currency"),n.Zb()),2&t){const t=n.mc();n.yc(1),n.Jc(" ",n.oc(2,1,t.getTotalCost())," ")}}const A=["mat-header-row",""];function B(t,c){1&t&&n.Vb(0,"tr",A)}const N=["mat-row",""];function q(t,c){1&t&&n.Vb(0,"tr",N)}const K=["mat-footer-row",""];function L(t,c){1&t&&n.Vb(0,"tr",K)}let Q=(()=>{class t{constructor(t,c,o){this.costoIndirectoService=t,this.proyectoService=c,this.itemService=o,this.displayedColumns=["item","percent","cost"],this.transactions=[]}getTotalCost(){return this.transactions.map(t=>t.cost).reduce((t,c)=>t+c,0)}getTotalPercent(){return this.transactions.map(t=>t.percent).reduce((t,c)=>t+c,0)}ngOnInit(){}ngAfterViewInit(){this.proyectoService.project$.pipe(Object(l.a)(t=>(this.proyecto=t,this.data=[],this.transactions=[],this.costoIndirectoService.getCostoIndirectoByProyectoId(t.id)))).subscribe(t=>{this.itemService.getCostoDirecto(this.proyecto.id).subscribe(c=>{this.costoDirecto=c.model,this.costosIndirectos=t.model,this.costosIndirectos.forEach(t=>{this.transactions.push({item:t.descripcion,percent:t.porcentaje,cost:this.costoDirecto*t.porcentaje})}),this.data=[...this.transactions]})})}}return t.ngComponentDef=n.Ob({type:t,selectors:[["app-aiu"]],factory:function(c){return new(c||t)(n.Ub(b.a),n.Ub(m.a),n.Ub(p.a))},consts:30,vars:5,template:function(t,c){if(1&t&&(n.bc(0,"mat-card-header"),n.bc(1,"mat-card-title"),n.Hc(2," A.I.U "),n.bc(3,"button",g),n.bc(4,"mat-icon"),n.Hc(5,"more_vert"),n.Zb(),n.Zb(),n.bc(6,"mat-menu",w,Z),n.bc(8,"button",D),n.Hc(9,"Expand"),n.Zb(),n.bc(10,"button",D),n.Hc(11,"Remove"),n.Zb(),n.Zb(),n.Zb(),n.Zb(),n.bc(12,"mat-card-content",H),n.bc(13,"div"),n.bc(14,"table",v),n.Yb(15,G),n.Gc(16,$,2,0,"th",S),n.Gc(17,V,2,1,"td",I),n.Gc(18,T,2,0,"td",O),n.Xb(),n.Yb(19,P),n.Gc(20,Y,2,0,"th",S),n.Gc(21,_,3,3,"td",I),n.Gc(22,k,3,3,"td",O),n.Xb(),n.Yb(23,J),n.Gc(24,F,2,0,"th",S),n.Gc(25,E,3,3,"td",I),n.Gc(26,z,3,3,"td",O),n.Xb(),n.Gc(27,B,1,0,"tr",R),n.Gc(28,q,1,0,"tr",U),n.Gc(29,L,1,0,"tr",M),n.Zb(),n.Zb(),n.Zb()),2&t){const t=n.uc(7);n.yc(3),n.rc("matMenuTriggerFor",t),n.yc(14),n.rc("dataSource",c.data),n.yc(27),n.rc("matHeaderRowDef",c.displayedColumns),n.yc(28),n.rc("matRowDefColumns",c.displayedColumns),n.yc(29),n.rc("matFooterRowDef",c.displayedColumns)}},directives:[d.d,d.f,u.b,f.c,h.a,f.d,f.a,d.c,y.n,y.c,y.i,y.b,y.e,y.k,y.m,y.g,y.h,y.a,y.d,y.j,y.l,y.f],pipes:[C.q,C.d],styles:["table[_ngcontent-%COMP%]{width:100%}tr.mat-footer-row[_ngcontent-%COMP%]{font-weight:700}"]}),t})();var W=o("Xabv"),tt=o("SU0D");const ct=["mat-table","",1,"mat-elevation-z8",3,"dataSource"],ot=["matColumnDef","codigo"],et=["mat-header-cell","",4,"matHeaderCellDef"],nt=["mat-cell","",4,"matCellDef"],at=["matColumnDef","descripcion"],rt=["matColumnDef","unidad"],it=["matColumnDef","cantidad"],st=["matColumnDef","precio"],dt=["matColumnDef","parcial"],lt=["matColumnDef","aporte"],bt=["mat-header-row","",4,"matHeaderRowDef"],mt=["mat-row","",4,"matRowDef","matRowDefColumns"],pt=["mat-header-cell",""];function ut(t,c){1&t&&(n.bc(0,"th",pt),n.Hc(1," C\xf3digo "),n.Zb())}const ft=["mat-cell",""];function ht(t,c){if(1&t&&(n.bc(0,"td",ft),n.Hc(1),n.Zb()),2&t){const t=c.$implicit;n.yc(1),n.Jc(" ",t.numeroCapitulo," ")}}function yt(t,c){1&t&&(n.bc(0,"th",pt),n.Hc(1," Descripci\xf3n "),n.Zb())}function Ct(t,c){if(1&t&&(n.bc(0,"td",ft),n.Hc(1),n.Zb()),2&t){const t=c.$implicit;n.yc(1),n.Jc(" ",t.descripcion," ")}}function gt(t,c){1&t&&(n.bc(0,"th",pt),n.Hc(1," Unidad "),n.Zb())}function wt(t,c){if(1&t&&(n.bc(0,"td",ft),n.Hc(1),n.Zb()),2&t){const t=c.$implicit;n.yc(1),n.Jc(" ",t.unidad," ")}}function Zt(t,c){1&t&&(n.bc(0,"th",pt),n.Hc(1," Cantidad "),n.Zb())}function Dt(t,c){if(1&t&&(n.bc(0,"td",ft),n.Hc(1),n.Zb()),2&t){const t=c.$implicit;n.yc(1),n.Jc(" ",t.cantidad," ")}}function Ht(t,c){1&t&&(n.bc(0,"th",pt),n.Hc(1," Valor Unitario "),n.Zb())}function vt(t,c){if(1&t&&(n.bc(0,"td",ft),n.Hc(1),n.nc(2,"currency"),n.Zb()),2&t){const t=c.$implicit;n.yc(1),n.Jc(" ",n.oc(2,1,t.valorUnitario)," ")}}function Gt(t,c){1&t&&(n.bc(0,"th",pt),n.Hc(1," Valor Parcial "),n.Zb())}function St(t,c){if(1&t&&(n.bc(0,"td",ft),n.Hc(1),n.nc(2,"currency"),n.Zb()),2&t){const t=c.$implicit;n.yc(1),n.Jc(" ",n.oc(2,1,t.valorUnitario*t.cantidad)," ")}}function It(t,c){1&t&&(n.bc(0,"th",pt),n.Hc(1," Aporte "),n.Zb())}function Ot(t,c){if(1&t&&(n.bc(0,"td",ft),n.Hc(1),n.Zb()),2&t){const t=c.$implicit;n.yc(1),n.Jc(" ",t.aporte," ")}}const Pt=["mat-header-row",""];function Jt(t,c){1&t&&n.Vb(0,"tr",Pt)}const Rt=["mat-row",""];function Ut(t,c){1&t&&n.Vb(0,"tr",Rt)}let Mt=(()=>{class t{constructor(t,c,o){this.itemService=t,this.proyectoService=c,this.capituloService=o,this.items=[],this.data=[],this.displayedColumns=["codigo","descripcion","unidad","cantidad","precio","parcial","aporte"]}ngOnInit(){this.proyectoService.project$.pipe(Object(l.a)(t=>(this.proyecto=t,this.data=[],this.items=[],this.capituloService.getCapitulosByProyectoId(t.id)))).subscribe(t=>{this.capitulos=t.model,this.capitulos.forEach(t=>this.startData(t))},t=>{console.log(t.error)})}startData(t){this.items.push({id:0,descripcion:t.descripcion,aporte:"",cantidad:null,codigo:"",proyectoId:this.proyecto.id,unidad:"",detalles:null,valorUnitario:null,numeroCapitulo:t.numero}),this.itemService.getItemByCapituloId(t.id).subscribe(c=>{console.log(c),c.model.forEach(c=>{c.valorParcial=c.valorUnitario*c.cantidad,c.numeroCapitulo=Number(`${t.id}.${c.numeroCapitulo}`),console.log(c),this.items.push(c),this.data=[...this.items]}),console.log(this.data)},t=>{console.error(t.error)})}}return t.ngComponentDef=n.Ob({type:t,selectors:[["app-chapters"]],factory:function(c){return new(c||t)(n.Ub(p.a),n.Ub(m.a),n.Ub(tt.a))},consts:29,vars:3,template:function(t,c){1&t&&(n.bc(0,"mat-card"),n.bc(1,"mat-card-header"),n.bc(2,"mat-card-title"),n.Hc(3," Capitulos "),n.Zb(),n.Zb(),n.bc(4,"mat-card-content"),n.bc(5,"table",ct),n.Yb(6,ot),n.Gc(7,ut,2,0,"th",et),n.Gc(8,ht,2,1,"td",nt),n.Xb(),n.Yb(9,at),n.Gc(10,yt,2,0,"th",et),n.Gc(11,Ct,2,1,"td",nt),n.Xb(),n.Yb(12,rt),n.Gc(13,gt,2,0,"th",et),n.Gc(14,wt,2,1,"td",nt),n.Xb(),n.Yb(15,it),n.Gc(16,Zt,2,0,"th",et),n.Gc(17,Dt,2,1,"td",nt),n.Xb(),n.Yb(18,st),n.Gc(19,Ht,2,0,"th",et),n.Gc(20,vt,3,3,"td",nt),n.Xb(),n.Yb(21,dt),n.Gc(22,Gt,2,0,"th",et),n.Gc(23,St,3,3,"td",nt),n.Xb(),n.Yb(24,lt),n.Gc(25,It,2,0,"th",et),n.Gc(26,Ot,2,1,"td",nt),n.Xb(),n.Gc(27,Jt,1,0,"tr",bt),n.Gc(28,Ut,1,0,"tr",mt),n.Zb(),n.Zb(),n.Zb()),2&t&&(n.yc(5),n.rc("dataSource",c.data),n.yc(27),n.rc("matHeaderRowDef",c.displayedColumns),n.yc(28),n.rc("matRowDefColumns",c.displayedColumns))},directives:[d.a,d.d,d.f,d.c,y.n,y.c,y.i,y.b,y.k,y.m,y.h,y.a,y.j,y.l],pipes:[C.d],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t})();const Xt=[1,"grid-container"],$t=[1,"mat-h1"],jt=["cols","2","rowHeight","350px"],Vt=[3,"colspan","rowspan"],xt=[1,"dashboard-card"];let Tt=(()=>{class t{constructor(t){this.breakpointObserver=t,this.cards=this.breakpointObserver.observe(i.b.Handset).pipe(Object(r.a)(({matches:t})=>t?[{title:"Card 1",cols:1,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:1},{title:"Card 4",cols:1,rows:1}]:[{title:"Card 1",cols:2,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:2},{title:"Card 4",cols:1,rows:1}]))}}return t.ngComponentDef=n.Ob({type:t,selectors:[["app-dashboard"]],factory:function(c){return new(c||t)(n.Ub(i.a))},consts:13,vars:6,template:function(t,c){1&t&&(n.bc(0,"div",Xt),n.bc(1,"h1",$t),n.Hc(2,"Dashboard"),n.Zb(),n.bc(3,"mat-grid-list",jt),n.bc(4,"mat-grid-tile",Vt),n.bc(5,"mat-card",xt),n.Vb(6,"app-aiu"),n.Zb(),n.Zb(),n.bc(7,"mat-grid-tile",Vt),n.bc(8,"mat-card",xt),n.Vb(9,"app-table-cost"),n.Zb(),n.Zb(),n.bc(10,"mat-grid-tile",Vt),n.bc(11,"mat-card",xt),n.Vb(12,"app-chapters"),n.Zb(),n.Zb(),n.Zb(),n.Zb()),2&t&&(n.yc(4),n.rc("colspan",1)("rowspan",1),n.yc(7),n.rc("colspan",1)("rowspan",1),n.yc(10),n.rc("colspan",2)("rowspan",2))},directives:[s.a,s.c,d.a,Q,W.a,Mt],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;right:15px;bottom:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center}"]}),t})();const Yt=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.ngComponentDef=n.Ob({type:t,selectors:[["app-home"]],factory:function(c){return new(c||t)},consts:1,vars:0,template:function(t,c){1&t&&n.Vb(0,"app-dashboard")},directives:[Tt],styles:[""]}),t})()}];let _t=(()=>{class t{}return t.ngModuleDef=n.Sb({type:t}),t.ngInjectorDef=n.Rb({factory:function(c){return new(c||t)},imports:[[a.d.forChild(Yt)],a.d]}),t})();a.d.forChild(Yt);var kt=o("PCNd");o.d(c,"HomeModule",(function(){return Ft}));let Ft=(()=>{class t{}return t.ngModuleDef=n.Sb({type:t}),t.ngInjectorDef=n.Rb({factory:function(c){return new(c||t)},imports:[[C.c,kt.a,_t,e.a]]}),t})()}}]);