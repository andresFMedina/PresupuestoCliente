(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"ct+p":function(t,c,e){"use strict";e.r(c);var o=e("hctd"),a=e("fXoL"),n=e("tyNb"),r=e("lJxs"),i=e("sjd8"),s=e("SnT8"),d=e("MSSf"),b=e("eIep"),l=e("ffkf"),m=e("yp1H"),p=e("YIVz"),u=e("Xlwt"),f=e("1OTw"),h=e("TY1r"),y=e("tmTa"),C=e("ofXK");const g=["mat-icon-button","","aria-label","Toggle menu",1,"more-button",3,"matMenuTriggerFor"],w=["xPosition","before"],Z=["menu","matMenu"],D=["mat-menu-item",""],v=[1,"dashboard-card-content"],H=["mat-table","",1,"mat-elevation-z8",3,"dataSource"],G=["matColumnDef","item"],S=["mat-header-cell","",4,"matHeaderCellDef"],O=["mat-cell","",4,"matCellDef"],I=["mat-footer-cell","",4,"matFooterCellDef"],P=["matColumnDef","percent"],j=["matColumnDef","cost"],J=["mat-header-row","",4,"matHeaderRowDef"],R=["mat-row","",4,"matRowDef","matRowDefColumns"],U=["mat-footer-row","",4,"matFooterRowDef"],M=["mat-header-cell",""];function V(t,c){1&t&&(a.bc(0,"th",M),a.Hc(1," Item "),a.Zb())}const X=["mat-cell",""];function $(t,c){if(1&t&&(a.bc(0,"td",X),a.Hc(1),a.Zb()),2&t){const t=c.$implicit;a.yc(1),a.Jc(" ",t.item," ")}}const x=["mat-footer-cell",""];function T(t,c){1&t&&(a.bc(0,"td",x),a.Hc(1," Total "),a.Zb())}function Y(t,c){1&t&&(a.bc(0,"th",M),a.Hc(1," Porcentaje "),a.Zb())}function _(t,c){if(1&t&&(a.bc(0,"td",X),a.Hc(1),a.nc(2,"percent"),a.Zb()),2&t){const t=c.$implicit;a.yc(1),a.Jc(" ",a.oc(2,1,t.percent)," ")}}function k(t,c){if(1&t&&(a.bc(0,"td",x),a.Hc(1),a.nc(2,"percent"),a.Zb()),2&t){const t=a.mc();a.yc(1),a.Jc(" ",a.oc(2,1,t.getTotalPercent())," ")}}function z(t,c){1&t&&(a.bc(0,"th",M),a.Hc(1," Cost "),a.Zb())}function F(t,c){if(1&t&&(a.bc(0,"td",X),a.Hc(1),a.nc(2,"currency"),a.Zb()),2&t){const t=c.$implicit;a.yc(1),a.Jc(" ",a.oc(2,1,t.cost)," ")}}function A(t,c){if(1&t&&(a.bc(0,"td",x),a.Hc(1),a.nc(2,"currency"),a.Zb()),2&t){const t=a.mc();a.yc(1),a.Jc(" ",a.oc(2,1,t.getTotalCost())," ")}}const B=["mat-header-row",""];function E(t,c){1&t&&a.Vb(0,"tr",B)}const N=["mat-row",""];function q(t,c){1&t&&a.Vb(0,"tr",N)}const K=["mat-footer-row",""];function L(t,c){1&t&&a.Vb(0,"tr",K)}let Q=(()=>{class t{constructor(t,c,e){this.costoIndirectoService=t,this.proyectoService=c,this.itemService=e,this.displayedColumns=["item","percent","cost"],this.transactions=[]}getTotalCost(){return this.transactions.map(t=>t.cost).reduce((t,c)=>t+c,0)}getTotalPercent(){return this.transactions.map(t=>t.percent).reduce((t,c)=>t+c,0)}ngOnInit(){}ngAfterViewInit(){this.proyectoService.project$.pipe(Object(b.a)(t=>(this.proyecto=t,this.data=[],this.transactions=[],this.costoIndirectoService.getCostoIndirectoByProyectoId(t.id)))).subscribe(t=>{this.itemService.getCostoDirecto(this.proyecto.id).subscribe(c=>{this.costoDirecto=c.model,this.costosIndirectos=t.model,this.costosIndirectos.forEach(t=>{this.transactions.push({item:t.descripcion,percent:t.porcentaje,cost:this.costoDirecto*t.porcentaje})}),this.data=[...this.transactions]})})}}return t.ngComponentDef=a.Ob({type:t,selectors:[["app-aiu"]],factory:function(c){return new(c||t)(a.Ub(l.a),a.Ub(m.a),a.Ub(p.a))},consts:30,vars:5,template:function(t,c){if(1&t&&(a.bc(0,"mat-card-header"),a.bc(1,"mat-card-title"),a.Hc(2," A.I.U "),a.bc(3,"button",g),a.bc(4,"mat-icon"),a.Hc(5,"more_vert"),a.Zb(),a.Zb(),a.bc(6,"mat-menu",w,Z),a.bc(8,"button",D),a.Hc(9,"Expand"),a.Zb(),a.bc(10,"button",D),a.Hc(11,"Remove"),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.bc(12,"mat-card-content",v),a.bc(13,"div"),a.bc(14,"table",H),a.Yb(15,G),a.Gc(16,V,2,0,"th",S),a.Gc(17,$,2,1,"td",O),a.Gc(18,T,2,0,"td",I),a.Xb(),a.Yb(19,P),a.Gc(20,Y,2,0,"th",S),a.Gc(21,_,3,3,"td",O),a.Gc(22,k,3,3,"td",I),a.Xb(),a.Yb(23,j),a.Gc(24,z,2,0,"th",S),a.Gc(25,F,3,3,"td",O),a.Gc(26,A,3,3,"td",I),a.Xb(),a.Gc(27,E,1,0,"tr",J),a.Gc(28,q,1,0,"tr",R),a.Gc(29,L,1,0,"tr",U),a.Zb(),a.Zb(),a.Zb()),2&t){const t=a.uc(7);a.yc(3),a.rc("matMenuTriggerFor",t),a.yc(14),a.rc("dataSource",c.data),a.yc(27),a.rc("matHeaderRowDef",c.displayedColumns),a.yc(28),a.rc("matRowDefColumns",c.displayedColumns),a.yc(29),a.rc("matFooterRowDef",c.displayedColumns)}},directives:[d.d,d.f,u.b,f.c,h.a,f.d,f.a,d.c,y.n,y.c,y.i,y.b,y.e,y.k,y.m,y.g,y.h,y.a,y.d,y.j,y.l,y.f],pipes:[C.q,C.d],styles:["table[_ngcontent-%COMP%]{width:100%}tr.mat-footer-row[_ngcontent-%COMP%]{font-weight:700}"]}),t})();var W=e("Xabv"),tt=e("g1w/"),ct=e("sCmA"),et=e("SU0D");const ot=["mat-table","",1,"mat-elevation-z8",3,"dataSource"],at=["matColumnDef","codigo"],nt=["mat-header-cell","",4,"matHeaderCellDef"],rt=["mat-cell","",4,"matCellDef"],it=["matColumnDef","descripcion"],st=["matColumnDef","unidad"],dt=["matColumnDef","cantidad"],bt=["matColumnDef","precio"],lt=["matColumnDef","parcial"],mt=["matColumnDef","aporte"],pt=["mat-header-row","",4,"matHeaderRowDef"],ut=["mat-row","",4,"matRowDef","matRowDefColumns"],ft=[3,"length","pageSize"],ht=["mat-header-cell",""];function yt(t,c){1&t&&(a.bc(0,"th",ht),a.Hc(1," C\xf3digo "),a.Zb())}const Ct=["mat-cell",""];function gt(t,c){if(1&t&&(a.bc(0,"td",Ct),a.Hc(1),a.Zb()),2&t){const t=c.$implicit;a.yc(1),a.Jc(" ",t.numeroCapitulo," ")}}function wt(t,c){1&t&&(a.bc(0,"th",ht),a.Hc(1," Descripci\xf3n "),a.Zb())}function Zt(t,c){if(1&t&&(a.bc(0,"td",Ct),a.Hc(1),a.Zb()),2&t){const t=c.$implicit;a.yc(1),a.Jc(" ",t.descripcion," ")}}function Dt(t,c){1&t&&(a.bc(0,"th",ht),a.Hc(1," Unidad "),a.Zb())}function vt(t,c){if(1&t&&(a.bc(0,"td",Ct),a.Hc(1),a.Zb()),2&t){const t=c.$implicit;a.yc(1),a.Jc(" ",t.unidad," ")}}function Ht(t,c){1&t&&(a.bc(0,"th",ht),a.Hc(1," Cantidad "),a.Zb())}function Gt(t,c){if(1&t&&(a.bc(0,"td",Ct),a.Hc(1),a.Zb()),2&t){const t=c.$implicit;a.yc(1),a.Jc(" ",t.cantidad," ")}}function St(t,c){1&t&&(a.bc(0,"th",ht),a.Hc(1," Valor Unitario "),a.Zb())}function Ot(t,c){if(1&t&&(a.bc(0,"td",Ct),a.Hc(1),a.nc(2,"currency"),a.Zb()),2&t){const t=c.$implicit;a.yc(1),a.Jc(" ",a.oc(2,1,t.valorUnitario)," ")}}function It(t,c){1&t&&(a.bc(0,"th",ht),a.Hc(1," Valor Parcial "),a.Zb())}function Pt(t,c){if(1&t&&(a.bc(0,"td",Ct),a.Hc(1),a.nc(2,"currency"),a.Zb()),2&t){const t=c.$implicit;a.yc(1),a.Jc(" ",a.oc(2,1,t.valorUnitario*t.cantidad)," ")}}function jt(t,c){1&t&&(a.bc(0,"th",ht),a.Hc(1," Aporte "),a.Zb())}function Jt(t,c){if(1&t&&(a.bc(0,"td",Ct),a.Hc(1),a.Zb()),2&t){const t=c.$implicit;a.yc(1),a.Jc(" ",t.aporte," ")}}const Rt=["mat-header-row",""];function Ut(t,c){1&t&&a.Vb(0,"tr",Rt)}const Mt=["mat-row",""];function Vt(t,c){1&t&&a.Vb(0,"tr",Mt)}let Xt=(()=>{class t{constructor(t,c,e){this.itemService=t,this.proyectoService=c,this.capituloService=e,this.items=[],this.data=[],this.displayedColumns=["codigo","descripcion","unidad","cantidad","precio","parcial","aporte"]}ngOnInit(){this.proyectoService.project$.pipe(Object(b.a)(t=>(this.proyecto=t,this.data=[],this.items=[],this.capituloService.getCapitulosByProyectoId(t.id)))).subscribe(t=>{t.model.forEach(t=>this.startData(t))},t=>{console.log(t.error)})}startData(t){const c={id:0,descripcion:t.descripcion,aporte:0,cantidad:null,codigo:"",proyectoId:this.proyecto.id,unidad:"",detalles:null,valorUnitario:null,numeroCapitulo:t.numero};this.itemService.getItemByCapituloId(t.id).subscribe(e=>{this.items.push(c),e.model.forEach(c=>{c.valorParcial=c.valorUnitario*c.cantidad,c.numeroCapitulo=Number(`${t.numero}.${c.numeroCapitulo}`),this.items.push(c)}),this.data=[...this.items],this.data.sort((t,c)=>Object(tt.a)(t.numeroCapitulo,c.numeroCapitulo)),this.dataSource=new y.o(this.data),this.dataSource.paginator=this.paginator},t=>{console.error(t.error)})}}return t.ngComponentDef=a.Ob({type:t,selectors:[["app-chapters"]],factory:function(c){return new(c||t)(a.Ub(p.a),a.Ub(m.a),a.Ub(et.a))},viewQuery:function(t,c){var e;1&t&&a.Bc(ct.a,!0),2&t&&a.tc(e=a.jc())&&(c.paginator=e.first)},consts:30,vars:5,template:function(t,c){1&t&&(a.bc(0,"mat-card"),a.bc(1,"mat-card-header"),a.bc(2,"mat-card-title"),a.Hc(3," Capitulos "),a.Zb(),a.Zb(),a.bc(4,"mat-card-content"),a.bc(5,"table",ot),a.Yb(6,at),a.Gc(7,yt,2,0,"th",nt),a.Gc(8,gt,2,1,"td",rt),a.Xb(),a.Yb(9,it),a.Gc(10,wt,2,0,"th",nt),a.Gc(11,Zt,2,1,"td",rt),a.Xb(),a.Yb(12,st),a.Gc(13,Dt,2,0,"th",nt),a.Gc(14,vt,2,1,"td",rt),a.Xb(),a.Yb(15,dt),a.Gc(16,Ht,2,0,"th",nt),a.Gc(17,Gt,2,1,"td",rt),a.Xb(),a.Yb(18,bt),a.Gc(19,St,2,0,"th",nt),a.Gc(20,Ot,3,3,"td",rt),a.Xb(),a.Yb(21,lt),a.Gc(22,It,2,0,"th",nt),a.Gc(23,Pt,3,3,"td",rt),a.Xb(),a.Yb(24,mt),a.Gc(25,jt,2,0,"th",nt),a.Gc(26,Jt,2,1,"td",rt),a.Xb(),a.Gc(27,Ut,1,0,"tr",pt),a.Gc(28,Vt,1,0,"tr",ut),a.Zb(),a.Vb(29,"mat-paginator",ft),a.Zb(),a.Zb()),2&t&&(a.yc(5),a.rc("dataSource",c.dataSource),a.yc(27),a.rc("matHeaderRowDef",c.displayedColumns),a.yc(28),a.rc("matRowDefColumns",c.displayedColumns),a.yc(29),a.rc("length",c.data.length)("pageSize",10))},directives:[d.a,d.d,d.f,d.c,y.n,y.c,y.i,y.b,y.k,y.m,ct.a,y.h,y.a,y.j,y.l],pipes:[C.d],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t})();const $t=[1,"grid-container"],xt=[1,"mat-h1"],Tt=["cols","2","rowHeight","600px"],Yt=[3,"colspan","rowspan"],_t=[1,"dashboard-card"];let kt=(()=>{class t{constructor(t){this.breakpointObserver=t,this.cards=this.breakpointObserver.observe(i.b.Handset).pipe(Object(r.a)(({matches:t})=>t?[{title:"Card 1",cols:1,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:1},{title:"Card 4",cols:1,rows:1}]:[{title:"Card 1",cols:2,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:2},{title:"Card 4",cols:1,rows:1}]))}}return t.ngComponentDef=a.Ob({type:t,selectors:[["app-dashboard"]],factory:function(c){return new(c||t)(a.Ub(i.a))},consts:13,vars:6,template:function(t,c){1&t&&(a.bc(0,"div",$t),a.bc(1,"h1",xt),a.Hc(2,"Dashboard"),a.Zb(),a.bc(3,"mat-grid-list",Tt),a.bc(4,"mat-grid-tile",Yt),a.bc(5,"mat-card",_t),a.Vb(6,"app-aiu"),a.Zb(),a.Zb(),a.bc(7,"mat-grid-tile",Yt),a.bc(8,"mat-card",_t),a.Vb(9,"app-table-cost"),a.Zb(),a.Zb(),a.bc(10,"mat-grid-tile",Yt),a.bc(11,"mat-card",_t),a.Vb(12,"app-chapters"),a.Zb(),a.Zb(),a.Zb(),a.Zb()),2&t&&(a.yc(4),a.rc("colspan",1)("rowspan",1),a.yc(7),a.rc("colspan",1)("rowspan",1),a.yc(10),a.rc("colspan",2)("rowspan",2))},directives:[s.a,s.c,d.a,Q,W.a,Xt],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;right:15px;bottom:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center}"]}),t})();const zt=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.ngComponentDef=a.Ob({type:t,selectors:[["app-home"]],factory:function(c){return new(c||t)},consts:1,vars:0,template:function(t,c){1&t&&a.Vb(0,"app-dashboard")},directives:[kt],styles:[""]}),t})()}];let Ft=(()=>{class t{}return t.ngModuleDef=a.Sb({type:t}),t.ngInjectorDef=a.Rb({factory:function(c){return new(c||t)},imports:[[n.d.forChild(zt)],n.d]}),t})();n.d.forChild(zt);var At=e("PCNd");e.d(c,"HomeModule",(function(){return Bt}));let Bt=(()=>{class t{}return t.ngModuleDef=a.Sb({type:t}),t.ngInjectorDef=a.Rb({factory:function(c){return new(c||t)},imports:[[C.c,At.a,Ft,o.a]]}),t})()}}]);